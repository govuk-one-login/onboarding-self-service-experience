{
  "name": "gds-di-self-service-frontend",
  "description": "DI Self-Service frontend",
  "scripts": {
    "start": "node dist/app.js",
    "local": "npm run buildts && STUB_API=true node --inspect dist/app.js",
    "dev": "STUB_API=${STUB_API:-true} nodemon --config nodemon.json --inspect -r 'dotenv/config' src/app.ts",
    "docker": "docker run --rm --publish 3000:3000 self-service-frontend",
    "minifyjs": "for script in dist/assets/javascripts/*.js; do uglifyjs $script -cmo $script $(${CI:-false} || echo --source-map includeSources,url=${script##*/}.map); done",
    "buildts": "tsc $(${CI:-false} && echo --sourceMap false)",
    "buildsass": "sass --load-path=$(npm ls -p govuk-frontend)/.. --style compressed assets/css/app.scss dist/assets/app.css $(${CI:-false} && echo --no-source-map || echo --embed-sources)",
    "buildjs": "cp -r assets/javascripts dist/assets/",
    "buildgovuk": "govuk=$(npm ls -p govuk-frontend)/govuk; cp -r $govuk/assets/* dist/assets/ && cp $govuk/all.js dist/assets/javascripts/govuk-all.js",
    "build": "npm run buildts && npm run buildsass && npm run buildjs && npm run buildgovuk && npm run minifyjs",
    "test": "jest --silent",
    "test:cov": "jest --silent --coverage",
    "acceptance": "npm run acceptance-tests -w ../ui-automation-tests --",
    "build-docker": "docker build --tag self-service-frontend --file ../infrastructure/frontend/Dockerfile-dev .."
  },
  "dependencies": {
    "@aws-sdk/client-cognito-identity-provider": "^3.760.0",
    "@aws-sdk/util-dynamodb": "^3.758.0",
    "axios": "^1.8.1",
    "connect-dynamodb": "^3.0.5",
    "express": "^4.21.2",
    "express-async-errors": "^3.1.1",
    "express-session": "^1.17.3",
    "googleapis": "^128.0.0",
    "googleapis-common": "^7.2.0",
    "govuk-frontend": "^4.9.0",
    "helmet": "^7.0.0",
    "nunjucks": "^3.2.3"
  },
  "devDependencies": {
    "@types/express": "^4.17.17",
    "@types/express-session": "^1.17.7",
    "@types/node": "^20.16.0",
    "@types/nunjucks": "^3.2.2",
    "@types/uuid": "^9.0.1",
    "dotenv": "^16.0.3",
    "nodemon": "^3.0.1",
    "sass": "^1.60.0",
    "typescript": "^5.5.2",
    "uglify-js": "^3.19.2",
    "aws-sdk-client-mock": "^4.0.0",
    "aws-sdk-client-mock-jest": "^4.0.0"
  }
}